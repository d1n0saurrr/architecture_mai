# Сервис поиска попутчиков

# Содержимое проекта
- ./docs - документация по проекту: uml диаграммы, OpenApi контракт - конфигурация endpoint.
- ./config - конфигурация БД
- ./database - менеджер подключений к БД, описание сущностей БД
- ./auth_service - реализация сервиса авторизации
- ./user_service - реализация сервиса пользователей
- ./trip_service - реализация сервиса поездок
- ./utils - набор вспомогательных функций
- .mariadb - контейнер БД со скриптом - main_script создания таблиц. Скрипт вызывается автоматически при первом запуске контейнера.
- .env - переменные окружения для запуска контейнеров
- .docker-compose.yaml - конфигурация запуска контейнеров
- main файлы контейнеров свервисов:
  - auth_main.cpp
  - user_main.cpp 
  - trip_main.cpp
- arch_lab.postman_collection.json - Postman коллекция с методами

# Запуск:
```
docker compose build
docker compose up
```

# Возможности
Для версии proxysql добавлено шардирование с помощью porxysql
Есть 2 экземпляра БД и еще одна база с единственным sequence, по которому определяется, в какой шард запишется пользователь